{"ast":null,"code":"import _classCallCheck from \"C:/Users/mohsh/Downloads/chat-app-master (1)/chat-app-master/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/mohsh/Downloads/chat-app-master (1)/chat-app-master/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/mohsh/Downloads/chat-app-master (1)/chat-app-master/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/mohsh/Downloads/chat-app-master (1)/chat-app-master/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\mohsh\\\\Downloads\\\\chat-app-master (1)\\\\chat-app-master\\\\web\\\\src\\\\components\\\\side\\\\EditProfile.js\";\nimport React from \"react\";\nimport { Row, Form, Input, Button } from \"reactstrap\";\nimport Error from \"components/Error\";\nimport Avatar from 'components/Avatar';\nimport axios from \"axios\";\n/**\r\n * EditProfile Component.\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar EditProfile = /*#__PURE__*/function (_React$Component) {\n  _inherits(EditProfile, _React$Component);\n\n  var _super = _createSuper(EditProfile);\n\n  /**\r\n   * @param props\r\n   */\n  function EditProfile(props) {\n    var _this;\n\n    _classCallCheck(this, EditProfile);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      name: _this.props.user.name,\n      about: _this.props.user.about\n    };\n\n    _this.showFileUpload = function (e) {\n      return _this.fileUpload.current.click();\n    };\n\n    _this.onImageChange = function (e) {\n      if (e.target.files && e.target.files[0]) {\n        _this.setState({\n          image: URL.createObjectURL(e.target.files[0]),\n          avatar: e.target.files[0]\n        });\n      }\n    };\n\n    _this.onChange = function (e) {\n      return _this.setState({\n        [e.target.name]: e.target.value,\n        error: null\n      });\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var data = new FormData();\n      data.append('name', _this.state.name);\n      data.append('about', _this.state.about);\n      if (_this.state.avatar) data.append('avatar', _this.state.avatar, _this.state.avatar.name);\n      axios.post('/api/account', data).then(_this.props.toggle).catch(function (err) {\n        return _this.setState({\n          error: err.response.data.message\n        });\n      });\n    };\n\n    _this.onClose = function (e) {\n      _this.setState({\n        image: false,\n        name: _this.props.user.name,\n        about: _this.props.user.about\n      });\n\n      _this.props.toggle();\n    };\n\n    _this.fileUpload = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n  /**\r\n   * Trigger click on file upload input\r\n   * @param e\r\n   */\n\n\n  _createClass(EditProfile, [{\n    key: \"render\",\n    value:\n    /**\r\n     * Render component.\r\n     */\n    function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.open ? 'side-profile open' : 'side-profile',\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"heading\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mr-2 nav-link\",\n            onClick: this.onClose,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-arrow-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u0627\\u0644\\u0645\\u0644\\u0641 \\u0627\\u0644\\u0634\\u062E\\u0635\\u064A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column\",\n          style: {\n            overflow: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.onSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Error, {\n              error: this.state.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              onClick: this.showFileUpload,\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                src: this.props.user.avatar,\n                file: this.state.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: this.fileUpload,\n              onChange: this.onImageChange,\n              className: \"d-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white px-4 py-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-muted\",\n                children: \"\\u0627\\u0644\\u0627\\u0633\\u0645\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: this.state.name,\n                name: \"name\",\n                onChange: this.onChange,\n                required: true,\n                autoComplete: \"off\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white px-3 py-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-muted\",\n                children: \"\\u0631\\u0633\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: this.state.about,\n                name: \"about\",\n                onChange: this.onChange,\n                required: true,\n                autoComplete: \"off\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white px-3 py-2\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                block: true,\n                className: \"mt-3\",\n                children: \"\\u062D\\u0641\\u0638\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return EditProfile;\n}(React.Component);\n\nexport default EditProfile;","map":{"version":3,"sources":["C:/Users/mohsh/Downloads/chat-app-master (1)/chat-app-master/web/src/components/side/EditProfile.js"],"names":["React","Row","Form","Input","Button","Error","Avatar","axios","EditProfile","props","state","name","user","about","showFileUpload","e","fileUpload","current","click","onImageChange","target","files","setState","image","URL","createObjectURL","avatar","onChange","value","error","onSubmit","preventDefault","data","FormData","append","post","then","toggle","catch","err","response","message","onClose","createRef","open","overflow","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Row, Form, Input, Button } from \"reactstrap\";\r\nimport Error from \"components/Error\";\r\nimport Avatar from 'components/Avatar';\r\nimport axios from \"axios\";\r\n\r\n/**\r\n * EditProfile Component.\r\n */\r\nclass EditProfile extends React.Component {\r\n\r\n    state = {name: this.props.user.name, about: this.props.user.about};\r\n\r\n    /**\r\n     * @param props\r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n        this.fileUpload = React.createRef();\r\n    }\r\n\r\n    /**\r\n     * Trigger click on file upload input\r\n     * @param e\r\n     */\r\n    showFileUpload = e  => this.fileUpload.current.click();\r\n\r\n    /**\r\n     * If avatar input changed then change the preview.\r\n     * @param e\r\n     */\r\n    onImageChange = e => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            this.setState({\r\n                image: URL.createObjectURL(e.target.files[0]),\r\n                avatar: e.target.files[0]\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Change form handler\r\n     * @param e\r\n     */\r\n    onChange = e => this.setState({[e.target.name]: e.target.value, error: null});\r\n\r\n    /**\r\n     * Form submit handler.\r\n     * @param e\r\n     */\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append('name', this.state.name);\r\n        data.append('about', this.state.about);\r\n        if (this.state.avatar) data.append('avatar', this.state.avatar, this.state.avatar.name);\r\n        axios.post('/api/account', data)\r\n        .then(this.props.toggle)\r\n        .catch(err => this.setState({\r\n            error: err.response.data.message\r\n        }));\r\n    };\r\n\r\n    /**\r\n     * When close sidebar.\r\n     */\r\n    onClose = e => {\r\n        this.setState({image: false, name: this.props.user.name, about: this.props.user.about});\r\n        this.props.toggle();\r\n    };\r\n\r\n    /**\r\n     * Render component.\r\n     */\r\n    render(){\r\n        return (\r\n            <div className={this.props.open ? 'side-profile open' : 'side-profile'}>\r\n\r\n                <Row className=\"heading\">\r\n                    <div className=\"mr-2 nav-link\" onClick={this.onClose}>\r\n                        <i className=\"fa fa-arrow-right\" />\r\n                    </div>\r\n                    <div>الملف الشخصي</div>\r\n                </Row>\r\n\r\n                <div className=\"d-flex flex-column\" style={{overflow: 'auto'}}>\r\n\r\n                    <Form onSubmit={this.onSubmit}>\r\n\r\n                        <Error error={this.state.error} />\r\n\r\n                        <div className=\"text-center\" onClick={this.showFileUpload}>\r\n                            <Avatar src={this.props.user.avatar} file={this.state.image}/>\r\n                        </div>\r\n\r\n                        <input type=\"file\" ref={this.fileUpload} onChange={this.onImageChange} className=\"d-none\"/>\r\n\r\n                        <div className=\"bg-white px-4 py-2\">\r\n                            <label className=\"text-muted\">الاسم</label>\r\n                            <Input value={this.state.name} name=\"name\" onChange={this.onChange} required  autoComplete=\"off\"/>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white px-3 py-2\">\r\n                            <label className=\"text-muted\">رسالة الحالة</label>\r\n                            <Input value={this.state.about} name=\"about\" onChange={this.onChange} required autoComplete=\"off\" />\r\n                        </div>\r\n\r\n                        <div className=\"bg-white px-3 py-2\">\r\n                            <Button block className=\"mt-3\">حفظ</Button>\r\n                        </div>\r\n\r\n                    </Form>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default EditProfile;\r\n"]},"metadata":{},"sourceType":"module"}