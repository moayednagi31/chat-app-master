{"ast":null,"code":"import _classCallCheck from\"C:/Users/moaid/Desktop/chat-app-master/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/moaid/Desktop/chat-app-master/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/moaid/Desktop/chat-app-master/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/moaid/Desktop/chat-app-master/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./auth.css';// استيراد ملف CSS الجديد\nimport{Link}from'react-router-dom';import{Card,Form,Input,Button}from'reactstrap';import Error from'components/Error';import Logo from'assets/logo.png';import Auth from'Auth';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',error:''};_this.onChange=function(e){return _this.setState({[e.target.name]:e.target.value,error:null});};_this.onSubmit=function(e){e.preventDefault();var data={username:_this.state.username,password:_this.state.password};axios.post('/api/auth',data).then(function(res){Auth.login(res.data);_this.props.history.push('/');}).catch(function(err){return _this.setState({error:err.response.data.message});});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Logo\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"auth-header\",children:\"Login\"}),/*#__PURE__*/_jsx(Error,{error:this.state.error}),/*#__PURE__*/_jsx(Input,{className:\"auth-form-control\",value:this.state.username,name:\"username\",onChange:this.onChange,placeholder:\"Username\",required:true}),/*#__PURE__*/_jsx(Input,{type:\"password\",className:\"auth-form-control\",value:this.state.password,name:\"password\",onChange:this.onChange,placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(Button,{className:\"auth-button\",block:true,children:\"Login\"}),/*#__PURE__*/_jsx(\"small\",{className:\"auth-footer\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Create a new account\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth-footer\",children:[\"\\xA9 \",new Date().getFullYear()]})]})});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["C:/Users/moaid/Desktop/chat-app-master/web/src/views/Login.js"],"names":["React","Link","Card","Form","Input","Button","Error","Logo","Auth","axios","Login","state","username","password","error","onChange","e","setState","target","name","value","onSubmit","preventDefault","data","post","then","res","login","props","history","push","catch","err","response","message","Date","getFullYear","Component"],"mappings":"onBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,CAAqB;AACrB,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,KAArB,CAA4BC,MAA5B,KAA0C,YAA1C,CACA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEMC,CAAAA,K,mUACJC,K,CAAQ,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,QAAQ,CAAE,EAA1B,CAA8BC,KAAK,CAAE,EAArC,C,OAERC,Q,CAAW,SAAAC,CAAC,QAAI,OAAKC,QAAL,CAAc,CAAE,CAACD,CAAC,CAACE,MAAF,CAASC,IAAV,EAAiBH,CAAC,CAACE,MAAF,CAASE,KAA5B,CAAmCN,KAAK,CAAE,IAA1C,CAAd,CAAJ,E,OAEZO,Q,CAAW,SAAAL,CAAC,CAAI,CACdA,CAAC,CAACM,cAAF,GACA,GAAIC,CAAAA,IAAI,CAAG,CAAEX,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAAvB,CAAiCC,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QAAtD,CAAX,CACAJ,KAAK,CAACe,IAAN,CAAW,WAAX,CAAwBD,IAAxB,EACGE,IADH,CACQ,SAAAC,GAAG,CAAI,CACXlB,IAAI,CAACmB,KAAL,CAAWD,GAAG,CAACH,IAAf,EACA,MAAKK,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CAJH,EAKGC,KALH,CAKS,SAAAC,GAAG,QAAI,OAAKf,QAAL,CAAc,CAAEH,KAAK,CAAEkB,GAAG,CAACC,QAAJ,CAAaV,IAAb,CAAkBW,OAA3B,CAAd,CAAJ,EALZ,EAMD,C,uDAED,iBAAS,CACP,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,MAAC,IAAD,EAAM,QAAQ,CAAE,KAAKb,QAArB,wBACE,YAAK,GAAG,CAAEd,IAAV,CAAgB,GAAG,CAAC,MAApB,EADF,cAEE,WAAI,SAAS,CAAC,aAAd,mBAFF,cAGE,KAAC,KAAD,EAAO,KAAK,CAAE,KAAKI,KAAL,CAAWG,KAAzB,EAHF,cAIE,KAAC,KAAD,EAAO,SAAS,CAAC,mBAAjB,CAAqC,KAAK,CAAE,KAAKH,KAAL,CAAWC,QAAvD,CAAiE,IAAI,CAAC,UAAtE,CAAiF,QAAQ,CAAE,KAAKG,QAAhG,CAA0G,WAAW,CAAC,UAAtH,CAAiI,QAAQ,KAAzI,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,mBAAjC,CAAqD,KAAK,CAAE,KAAKJ,KAAL,CAAWE,QAAvE,CAAiF,IAAI,CAAC,UAAtF,CAAiG,QAAQ,CAAE,KAAKE,QAAhH,CAA0H,WAAW,CAAC,UAAtI,CAAiJ,QAAQ,KAAzJ,EALF,cAME,KAAC,MAAD,EAAQ,SAAS,CAAC,aAAlB,CAAgC,KAAK,KAArC,mBANF,cAOE,cAAO,SAAS,CAAC,aAAjB,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,kCADF,EAPF,cAUE,WAAG,SAAS,CAAC,aAAb,mBAAmC,GAAIoB,CAAAA,IAAJ,GAAWC,WAAX,EAAnC,GAVF,GADF,EADF,CAgBD,C,mBAjCiBpC,KAAK,CAACqC,S,EAoC1B,cAAe3B,CAAAA,KAAf","sourcesContent":["import React from 'react';\nimport './auth.css'; // استيراد ملف CSS الجديد\nimport { Link } from 'react-router-dom';\nimport { Card, Form, Input, Button } from 'reactstrap';\nimport Error from 'components/Error';\nimport Logo from 'assets/logo.png';\nimport Auth from 'Auth';\nimport axios from 'axios';\n\nclass Login extends React.Component {\n  state = { username: '', password: '', error: '' };\n\n  onChange = e => this.setState({ [e.target.name]: e.target.value, error: null });\n\n  onSubmit = e => {\n    e.preventDefault();\n    let data = { username: this.state.username, password: this.state.password };\n    axios.post('/api/auth', data)\n      .then(res => {\n        Auth.login(res.data);\n        this.props.history.push('/');\n      })\n      .catch(err => this.setState({ error: err.response.data.message }));\n  };\n\n  render() {\n    return (\n      <div className=\"auth-container\">\n        <Form onSubmit={this.onSubmit}>\n          <img src={Logo} alt=\"Logo\" />\n          <h5 className=\"auth-header\">Login</h5>\n          <Error error={this.state.error} />\n          <Input className=\"auth-form-control\" value={this.state.username} name=\"username\" onChange={this.onChange} placeholder=\"Username\" required />\n          <Input type=\"password\" className=\"auth-form-control\" value={this.state.password} name=\"password\" onChange={this.onChange} placeholder=\"Password\" required />\n          <Button className=\"auth-button\" block>Login</Button>\n          <small className=\"auth-footer\">\n            <Link to=\"/register\">Create a new account</Link>\n          </small>\n          <p className=\"auth-footer\">&copy; {new Date().getFullYear()}</p>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}